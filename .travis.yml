language: rust
rust:
- stable
- beta
- nightly
sudo: false
install:
- wget https://github.com/xiph/speexdsp/releases/download/SpeexDSP-1.2rc3.tar.gz
- tar xvfz SpeexDSP-1.2rc3.tar.gz
- cd SpeexDSP-1.2rc3 && ./configure --prefix=$HOME/installed_speedxsp && make && make install &&
  cd ..
- export PKG_CONFIG_PATH=$HOME/installed_speedxsp/lib/pkgconfig:$PKG_CONFIG_PATH
- export LD_LIBRARY_PATH=$HOME/installed_speedxsp/lib:$LD_LIBRARY_PATH
script:
- cargo build --verbose
- cargo test --verbose
- cargo doc
branches:
    except:
    - /.*(.tmp)$/
